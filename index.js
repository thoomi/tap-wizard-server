////////////////////////////////////////////////////////////////////////////////
/// Main entry point
////////////////////////////////////////////////////////////////////////////////
var GameServer = require('./server/game_server.js');

(function main() {
	try 
	{
		// -----------------------------------------------------------------------------
	    // Create a fresh game server instance
	    // -----------------------------------------------------------------------------
		var gameServer = new GameServer();

		// -----------------------------------------------------------------------------
	    // Call onStartup to setup all components of the server
	    // -----------------------------------------------------------------------------
		gameServer.onStartup();

		// -----------------------------------------------------------------------------
	    // Call onRun for convenience that everything is ready
	    // -----------------------------------------------------------------------------
		gameServer.onRun();
	}
	catch(exception) 
	{
		// -----------------------------------------------------------------------------
	    // Log any error the server might throw
	    // -----------------------------------------------------------------------------
		console.error(exception.message);
	}	
})();